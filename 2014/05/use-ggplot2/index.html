

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.30.2">
    <meta name="theme" content="Tranquilpeak 0.3.1-BETA">
    <title>Use ggplot2</title>
    <meta name="author" content="Guangchuang Yu">
    <meta name="keywords" content="">

    <link rel="icon" href="https://guangchuangyu.github.io/cn/favicon.png">
    

    
    <meta name="description" content="Why use ggplot2

ggplot2æ˜¯æˆ‘è§è¿‡æœ€human friendlyçš„ç”»å›¾è½¯ä»¶ï¼Œè¿™å¾—ç›ŠäºLeland Wilkinsonåœ¨ä»–çš„è‘—ä½œã€ŠThe Grammar of Graphicsã€‹ä¸­æå‡ºäº†ä¸€å¥—å›¾å½¢è¯­æ³•ï¼ŒæŠŠå›¾å½¢å…ƒç´ æŠ½è±¡æˆå¯ä»¥è‡ªç”±ç»„åˆçš„æˆåˆ†ï¼ŒHadley
WickhamæŠŠè¿™å¥—æƒ³æ³•åœ¨Rä¸­å®ç°ã€‚

ä¸ºä»€ä¹ˆè¦å­¦ä¹ ggplot2ï¼Œå¯ä»¥å‚è€ƒggplot2: æ•°æ®åˆ†æä¸å›¾å½¢è‰ºæœ¯çš„åºè¨€ï¼ˆbtw: åœ¨åºè¨€çš„æœ€åï¼Œæˆ‘è¢«è‡´è°¢äº†ï¼‰ã€‚

Hadley Wickhamä¹Ÿç»™å‡ºä¸€å †ç†ç”±è®©æˆ‘ä»¬è¯´æœè‡ªå·±ï¼Œæˆ‘æƒ³å†è¡¥å……ä¸€ç‚¹ï¼ŒHadley Wickhamæ˜¯å­¦åŒ»å‡ºèº«çš„ï¼Œåšä¸ºå­¦ç”Ÿç‰©å‡ºèº«çš„äººæœ‰ä»€ä¹ˆç†ç”±ä¸æ”¯æŒå‘¢:)

">
    <meta property="og:description" content="Why use ggplot2

ggplot2æ˜¯æˆ‘è§è¿‡æœ€human friendlyçš„ç”»å›¾è½¯ä»¶ï¼Œè¿™å¾—ç›ŠäºLeland Wilkinsonåœ¨ä»–çš„è‘—ä½œã€ŠThe Grammar of Graphicsã€‹ä¸­æå‡ºäº†ä¸€å¥—å›¾å½¢è¯­æ³•ï¼ŒæŠŠå›¾å½¢å…ƒç´ æŠ½è±¡æˆå¯ä»¥è‡ªç”±ç»„åˆçš„æˆåˆ†ï¼ŒHadley
WickhamæŠŠè¿™å¥—æƒ³æ³•åœ¨Rä¸­å®ç°ã€‚

ä¸ºä»€ä¹ˆè¦å­¦ä¹ ggplot2ï¼Œå¯ä»¥å‚è€ƒggplot2: æ•°æ®åˆ†æä¸å›¾å½¢è‰ºæœ¯çš„åºè¨€ï¼ˆbtw: åœ¨åºè¨€çš„æœ€åï¼Œæˆ‘è¢«è‡´è°¢äº†ï¼‰ã€‚

Hadley Wickhamä¹Ÿç»™å‡ºä¸€å †ç†ç”±è®©æˆ‘ä»¬è¯´æœè‡ªå·±ï¼Œæˆ‘æƒ³å†è¡¥å……ä¸€ç‚¹ï¼ŒHadley Wickhamæ˜¯å­¦åŒ»å‡ºèº«çš„ï¼Œåšä¸ºå­¦ç”Ÿç‰©å‡ºèº«çš„äººæœ‰ä»€ä¹ˆç†ç”±ä¸æ”¯æŒå‘¢:)

">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Use ggplot2">
    <meta property="og:url" content="/2014/05/use-ggplot2/">
    <meta property="og:site_name" content="Guangchuang Yu">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Guangchuang Yu">
    <meta name="twitter:description" content="Why use ggplot2

ggplot2æ˜¯æˆ‘è§è¿‡æœ€human friendlyçš„ç”»å›¾è½¯ä»¶ï¼Œè¿™å¾—ç›ŠäºLeland Wilkinsonåœ¨ä»–çš„è‘—ä½œã€ŠThe Grammar of Graphicsã€‹ä¸­æå‡ºäº†ä¸€å¥—å›¾å½¢è¯­æ³•ï¼ŒæŠŠå›¾å½¢å…ƒç´ æŠ½è±¡æˆå¯ä»¥è‡ªç”±ç»„åˆçš„æˆåˆ†ï¼ŒHadley
WickhamæŠŠè¿™å¥—æƒ³æ³•åœ¨Rä¸­å®ç°ã€‚

ä¸ºä»€ä¹ˆè¦å­¦ä¹ ggplot2ï¼Œå¯ä»¥å‚è€ƒggplot2: æ•°æ®åˆ†æä¸å›¾å½¢è‰ºæœ¯çš„åºè¨€ï¼ˆbtw: åœ¨åºè¨€çš„æœ€åï¼Œæˆ‘è¢«è‡´è°¢äº†ï¼‰ã€‚

Hadley Wickhamä¹Ÿç»™å‡ºä¸€å †ç†ç”±è®©æˆ‘ä»¬è¯´æœè‡ªå·±ï¼Œæˆ‘æƒ³å†è¡¥å……ä¸€ç‚¹ï¼ŒHadley Wickhamæ˜¯å­¦åŒ»å‡ºèº«çš„ï¼Œåšä¸ºå­¦ç”Ÿç‰©å‡ºèº«çš„äººæœ‰ä»€ä¹ˆç†ç”±ä¸æ”¯æŒå‘¢:)

">
    
      <meta name="twitter:creator" content="@guangchuangyu">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/7466436733e8691a63a9f7af4651e014?s=640">
    

    
    
    

    

    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" />
    
    
    <link rel="stylesheet" href="https://guangchuangyu.github.io/cn/css/style-u6mk0ojoywresbx8iepslrmmhl4stuhrsxuwhkpwrkrx7mryjcaimasnk4pi.min.css" />
    
    

    
      
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77901140-1', 'auto');
ga('send', 'pageview');
</script>

    
    
  </head>

<body>
    <div id="blog">
        <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://guangchuangyu.github.io/cn/">Guangchuang Yu</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://guangchuangyu.github.io/cn/#about">
    
    
    
      
        <img class="header-picture" src="//www.gravatar.com/avatar/7466436733e8691a63a9f7af4651e014?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

        <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://guangchuangyu.github.io/cn/#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/7466436733e8691a63a9f7af4651e014?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Guangchuang Yu</h4>
        
        <h5 class="sidebar-profile-bio">a senior-in-age-but-not-senior-in-knowledge bioinformatician</h5>
        <img alt="å¾®ä¿¡å…¬ä¼—å·" src="https://guangchuangyu.github.io/blog_images/biobabble.jpg" width="200" height="200">
        
      </div>
      
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://guangchuangyu.github.io/cn/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://guangchuangyu.github.io/cn/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://guangchuangyu.github.io/cn/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://guangchuangyu.github.io/cn/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://guangchuangyu.github.io/cn/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/GuangchuangYu" target="_blank">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://guangchuangyu.github.io/cn/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>

    </ul>
  </div>
</nav>

        

        <div id="main" data-behavior="4"
             class="
                 hasCoverMetaIn
             ">
            <article class="post" itemscope itemType="http://schema.org/BlogPosting">
                
                
                <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Use ggplot2
    </h1>
  
  <div class="postShorten-meta post-meta">
  
    <time itemprop="datePublished" datetime="2014-05-11T06:17:56&#43;08:00">
      
  May 11, 2014

    </time>
  
  
  
  
    <span>in</span>
    
      <a class="category-link" href="https://guangchuangyu.github.io/cn/categories/visualization">Visualization</a>
    
  


</div>

</div>
                
                <div class="post-content markdown" itemprop="articleBody">
                    <div class="main-content-wrap">
                        <h3 id="why-use-ggplot2">Why use ggplot2</h3>

<p>ggplot2æ˜¯æˆ‘è§è¿‡æœ€human friendlyçš„ç”»å›¾è½¯ä»¶ï¼Œè¿™å¾—ç›ŠäºLeland Wilkinsonåœ¨ä»–çš„è‘—ä½œã€Š<a href="http://book.douban.com/subject/10123863/">The Grammar of Graphics</a>ã€‹ä¸­æå‡ºäº†ä¸€å¥—å›¾å½¢è¯­æ³•ï¼ŒæŠŠå›¾å½¢å…ƒç´ æŠ½è±¡æˆå¯ä»¥è‡ªç”±ç»„åˆçš„æˆåˆ†ï¼ŒHadley
WickhamæŠŠè¿™å¥—æƒ³æ³•åœ¨Rä¸­å®ç°ã€‚</p>

<p>ä¸ºä»€ä¹ˆè¦å­¦ä¹ ggplot2ï¼Œå¯ä»¥å‚è€ƒ<a href="http://book.douban.com/subject/24527091/">ggplot2: æ•°æ®åˆ†æä¸å›¾å½¢è‰ºæœ¯</a>çš„<a href="https://github.com/cosname/ggplot2-translation/blob/master/preface.md">åºè¨€</a>ï¼ˆbtw: åœ¨åºè¨€çš„æœ€åï¼Œæˆ‘è¢«è‡´è°¢äº†ï¼‰ã€‚</p>

<p>Hadley Wickhamä¹Ÿç»™å‡º<a href="https://github.com/hadley/ggplot2/wiki/Why-use-ggplot2">ä¸€å †ç†ç”±</a>è®©æˆ‘ä»¬è¯´æœè‡ªå·±ï¼Œæˆ‘æƒ³å†è¡¥å……ä¸€ç‚¹ï¼ŒHadley Wickhamæ˜¯å­¦åŒ»å‡ºèº«çš„ï¼Œåšä¸ºå­¦ç”Ÿç‰©å‡ºèº«çš„äººæœ‰ä»€ä¹ˆç†ç”±ä¸æ”¯æŒå‘¢:)</p>

<p></p>

<p>ggplot2åŸºæœ¬è¦ç´ </p>

<ul>
<li>æ•°æ®ï¼ˆDataï¼‰å’Œæ˜ å°„ï¼ˆMappingï¼‰</li>
<li>å‡ ä½•å¯¹è±¡ï¼ˆGeometricï¼‰</li>
<li>æ ‡å°ºï¼ˆScaleï¼‰</li>
<li>ç»Ÿè®¡å˜æ¢ï¼ˆStatisticsï¼‰</li>
<li>åæ ‡ç³»ç»Ÿï¼ˆCoordinanteï¼‰</li>
<li>å›¾å±‚ï¼ˆLayerï¼‰</li>
<li>åˆ†é¢ï¼ˆFacetï¼‰</li>
<li>ä¸»é¢˜ï¼ˆThemeï¼‰</li>
</ul>

<p>è¿™é‡Œå°†ä»è¿™äº›åŸºæœ¬è¦ç´ å¯¹ggplot2è¿›è¡Œä»‹ç»ã€‚</p>

<h3 id="æ•°æ®-data-å’Œæ˜ å°„-mapping">æ•°æ®ï¼ˆDataï¼‰å’Œæ˜ å°„ï¼ˆMapping)</h3>

<p>ä¸‹é¢ä»¥ä¸€ä»½é’»çŸ³çš„æ•°æ®ä¸ºä¾‹ï¼Œè¿™ä»½æ•°æ®éå¸¸å¤§ï¼Œéšæœºå–ä¸€ä¸ªå­é›†æ¥ç”»å›¾ã€‚</p>

<pre><code>require(ggplot2)
data(diamonds)
set.seed(42)
small &lt;- diamonds[sample(nrow(diamonds), 1000), ]
head(small)
</code></pre>

<pre><code>##       carat       cut color clarity depth table price    x    y    z
## 49345  0.71 Very Good     H     SI1  62.5    60  2096 5.68 5.75 3.57
## 50545  0.79   Premium     H     SI1  61.8    59  2275 5.97 5.91 3.67
## 15434  1.03     Ideal     F     SI1  62.4    57  6178 6.48 6.44 4.03
## 44792  0.50     Ideal     E     VS2  62.2    54  1624 5.08 5.11 3.17
## 34614  0.27     Ideal     E     VS1  61.6    56   470 4.14 4.17 2.56
## 27998  0.30   Premium     E     VS2  61.7    58   658 4.32 4.34 2.67
</code></pre>

<pre><code>summary(small)
</code></pre>

<pre><code>##      carat              cut      color      clarity        depth     
##  Min.   :0.220   Fair     : 28   D:121   SI1    :258   Min.   :55.2  
##  1st Qu.:0.400   Good     : 88   E:186   VS2    :231   1st Qu.:61.0  
##  Median :0.710   Very Good:227   F:164   SI2    :175   Median :61.8  
##  Mean   :0.819   Premium  :257   G:216   VS1    :141   Mean   :61.7  
##  3rd Qu.:1.070   Ideal    :400   H:154   VVS2   : 91   3rd Qu.:62.5  
##  Max.   :2.660                   I:106   VVS1   : 67   Max.   :72.2  
##                                  J: 53   (Other): 37                 
##      table          price             x              y       
##  Min.   :50.1   Min.   :  342   Min.   :3.85   Min.   :3.84  
##  1st Qu.:56.0   1st Qu.:  990   1st Qu.:4.74   1st Qu.:4.76  
##  Median :57.0   Median : 2595   Median :5.75   Median :5.78  
##  Mean   :57.4   Mean   : 4111   Mean   :5.79   Mean   :5.79  
##  3rd Qu.:59.0   3rd Qu.: 5495   3rd Qu.:6.60   3rd Qu.:6.61  
##  Max.   :65.0   Max.   :18795   Max.   :8.83   Max.   :8.87  
##                                                              
##        z       
##  Min.   :2.33  
##  1st Qu.:2.92  
##  Median :3.55  
##  Mean   :3.57  
##  3rd Qu.:4.07  
##  Max.   :5.58  
## 
</code></pre>

<p>ç”»å›¾å®é™…ä¸Šæ˜¯æŠŠæ•°æ®ä¸­çš„å˜é‡æ˜ å°„åˆ°å›¾å½¢å±æ€§ä¸Šã€‚ä»¥å…‹æ‹‰(carat)æ•°ä¸ºXè½´å˜é‡ï¼Œä»·æ ¼(price)ä¸ºYè½´å˜é‡ã€‚</p>

<pre><code>p &lt;- ggplot(data = small, mapping = aes(x = carat, y = price))
</code></pre>

<p>ä¸Šé¢è¿™è¡Œä»£ç æŠŠæ•°æ®æ˜ å°„XYåæ ‡è½´ä¸Šï¼Œéœ€è¦å‘Šè¯‰ggplot2ï¼Œè¿™äº›æ•°æ®è¦æ˜ å°„æˆä»€ä¹ˆæ ·çš„å‡ ä½•å¯¹è±¡ï¼Œä¸‹é¢ä»¥æ•£ç‚¹ä¸ºä¾‹ï¼š</p>

<pre><code>p + geom_point()
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig1.png" alt="" /></p>

<p>å‡ ä½•å¯¹è±¡å°†åœ¨ä¸‹é¢çš„å°èŠ‚ä»‹ç»ï¼Œè¿™ä¸€èŠ‚ï¼Œå…³æ³¨çš„æ˜¯æ•°æ®å’Œå›¾å½¢å±æ€§ä¹‹é—´çš„æ˜ å°„ã€‚</p>

<p>å¦‚æœæƒ³å°†åˆ‡å·¥ï¼ˆcutï¼‰æ˜ å°„åˆ°å½¢çŠ¶å±æ€§ã€‚åªéœ€è¦ï¼š</p>

<pre><code>p &lt;- ggplot(data=small, mapping=aes(x=carat, y=price, shape=cut))
p+geom_point()
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig2.png" alt="" /></p>

<p>å†æ¯”å¦‚æˆ‘æƒ³å°†é’»çŸ³çš„é¢œè‰²ï¼ˆcolorï¼‰æ˜ å°„é¢œè‰²å±æ€§ï¼š</p>

<pre><code>p &lt;- ggplot(data=small, mapping=aes(x=carat, y=price, shape=cut, colour=color))
p+geom_point()
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig3.png" alt="" /></p>

<h3 id="å‡ ä½•å¯¹è±¡-geometric">å‡ ä½•å¯¹è±¡ï¼ˆGeometricï¼‰</h3>

<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå„ç§å±æ€§æ˜ å°„ç”±ggplotå‡½æ•°æ‰§è¡Œï¼Œåªéœ€è¦åŠ ä¸€ä¸ªå›¾å±‚ï¼Œä½¿ç”¨geom_point()å‘Šè¯‰ggplotè¦ç”»æ•£ç‚¹ï¼Œäºæ˜¯æ‰€æœ‰çš„å±æ€§éƒ½æ˜ å°„åˆ°æ•£ç‚¹ä¸Šã€‚</p>

<p>geom_point()å®Œæˆçš„å°±æ˜¯å‡ ä½•å¯¹è±¡çš„æ˜ å°„ï¼Œggplot2æä¾›äº†å„ç§å‡ ä½•å¯¹è±¡æ˜ å°„ï¼Œå¦‚geom_histogramç”¨äºç›´æ–¹å›¾ï¼Œgeom_barç”¨äºç”»æŸ±çŠ¶å›¾ï¼Œgeom_boxplotç”¨äºç”»ç®±å¼å›¾ç­‰ç­‰ã€‚</p>

<p>ä¸åŒçš„å‡ ä½•å¯¹è±¡ï¼Œè¦æ±‚çš„å±æ€§ä¼šæœ‰äº›ä¸åŒï¼Œè¿™äº›å±æ€§ä¹Ÿå¯ä»¥åœ¨å‡ ä½•å¯¹è±¡æ˜ å°„æ—¶æä¾›ï¼Œæ¯”å¦‚ä¸Šä¸€å›¾ï¼Œä¹Ÿå¯ä»¥ç”¨ä»¥ä¸‹è¯­æ³•æ¥ç”»ï¼š</p>

<pre><code>p &lt;- ggplot(small)
p+geom_point(aes(x=carat, y=price, shape=cut, colour=color))
</code></pre>

<p>ggplot2æ”¯æŒå›¾å±‚ï¼Œæˆ‘é€šå¸¸æŠŠä¸åŒçš„å›¾å±‚ä¸­å…±ç”¨çš„æ˜ å°„æä¾›ç»™ggplotå‡½æ•°ï¼Œè€ŒæŸä¸€å‡ ä½•å¯¹è±¡æ‰éœ€è¦çš„æ˜ å°„å‚æ•°æä¾›ç»™geom_xxxå‡½æ•°ã€‚</p>

<p>è¿™ä¸€å°èŠ‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å„ç§å¸¸ç”¨çš„å‡ ä½•å¯¹è±¡ã€‚</p>

<p><strong>ç›´æ–¹å›¾</strong> ç›´æ–¹å›¾æœ€å®¹æ˜“ï¼Œæä¾›ä¸€ä¸ªxå˜é‡ï¼Œç”»å‡ºæ•°æ®çš„åˆ†å¸ƒã€‚</p>

<pre><code>ggplot(small)+geom_histogram(aes(x=price))
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig4.png" alt="" /></p>

<p>åŒæ ·å¯ä»¥æ ¹æ®å¦å¤–çš„å˜é‡ç»™å®ƒå¡«å……é¢œè‰²ï¼Œæ¯”å¦‚æŒ‰ä¸åŒçš„åˆ‡å·¥ï¼š</p>

<pre><code>ggplot(small)+geom_histogram(aes(x=price, fill=cut))
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig5.png" alt="" /></p>

<p>ä¹Ÿå¯ä»¥å°†å…¶åˆ†å¼€ï¼Œside-by-sideåœ°ç”»ç›´æ–¹å›¾ã€‚</p>

<pre><code>ggplot(small)+geom_histogram(aes(x=price, fill=cut), position=&quot;dodge&quot;)
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig6.png" alt="" /></p>

<p>è¿˜å¯ä»¥ä½¿ç”¨position=&ldquo;fill&rdquo;ï¼ŒæŒ‰ç…§ç›¸å¯¹æ¯”ä¾‹æ¥ç”»ã€‚</p>

<pre><code>ggplot(small)+geom_histogram(aes(x=price, fill=cut), position=&quot;fill&quot;)
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig7.png" alt="" /></p>

<p><strong>æŸ±çŠ¶å›¾</strong>
æŸ±çŠ¶å›¾éå¸¸é€‚åˆäºç”»åˆ†ç±»å˜é‡ã€‚åœ¨è¿™é‡Œä»¥é€æ˜åº¦ï¼ˆclarityï¼‰å˜é‡ä¸ºä¾‹ã€‚æŒ‰ç…§ä¸åŒé€æ˜åº¦çš„é’»çŸ³çš„æ•°ç›®ç”»æŸ±çŠ¶å›¾ã€‚</p>

<pre><code>ggplot(small)+geom_bar(aes(x=clarity))
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig8.png" alt="" /></p>

<p>æŸ±çŠ¶å›¾ä¸¤ä¸ªè¦ç´ ï¼Œä¸€ä¸ªæ˜¯åˆ†ç±»å˜é‡ï¼Œä¸€ä¸ªæ˜¯æ•°ç›®ï¼Œä¹Ÿå°±æ˜¯æŸ±å­çš„é«˜åº¦ã€‚æ•°ç›®åœ¨è¿™é‡Œä¸ç”¨æä¾›ï¼Œå› ä¸ºggplot2ä¼šé€šè¿‡xå˜é‡è®¡ç®—å„ä¸ªåˆ†ç±»çš„æ•°ç›®ã€‚</p>

<p>å½“ç„¶ä½ æƒ³æä¾›ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œé€šè¿‡statå‚æ•°ï¼Œå¯ä»¥è®©geom_baræŒ‰æŒ‡å®šé«˜åº¦ç”»å›¾ï¼Œæ¯”å¦‚ä»¥ä¸‹ä»£ç ï¼š</p>

<pre><code>ggplot()+geom_bar(aes(x=c(LETTERS[1:3]),y=1:3), stat=&quot;identity&quot;)
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig24.png" alt="" /></p>

<p>æŸ±çŠ¶å›¾å’Œç›´æ–¹å›¾æ˜¯å¾ˆåƒçš„ï¼Œç›´æ–¹å›¾æŠŠè¿ç»­å‹çš„æ•°æ®æŒ‰ç…§ä¸€ä¸ªä¸ªç­‰é•¿çš„åˆ†åŒºï¼ˆbinï¼‰æ¥åˆ‡åˆ†ï¼Œç„¶åè®¡æ•°ï¼Œç”»æŸ±çŠ¶å›¾ã€‚è€ŒæŸ±çŠ¶å›¾æ˜¯åˆ†ç±»æ•°æ®ï¼ŒæŒ‰ç±»åˆ«è®¡æ•°ã€‚æˆ‘ä»¬å¯ä»¥ç”¨å‰é¢ç›´æ–¹å›¾çš„å‚æ•°æ¥ç”»side-by-sideçš„æŸ±çŠ¶å›¾ï¼Œå¡«å……é¢œè‰²æˆ–è€…æŒ‰æ¯”ä¾‹ç”»å›¾ï¼Œå®ƒä»¬æ˜¯é«˜åº¦ä¸€è‡´çš„ã€‚</p>

<p>æŸ±çŠ¶å›¾æ˜¯ç”¨æ¥è¡¨ç¤ºè®¡æ•°æ•°æ®çš„ï¼Œä½†åœ¨ç”Ÿç‰©ç•Œå´è¢«ç»å¸¸æ‹¿æ¥è¡¨ç¤ºå‡å€¼ï¼ŒåŠ ä¸Šè¯¯å·®æ¥è¡¨ç¤ºæ•°æ®åˆ†å¸ƒï¼Œè¿™å¯ä»¥é€šå¸¸å›¾å±‚æ¥å®ç°ï¼Œæˆ‘å°†åœ¨å›¾å±‚ä¸€èŠ‚ä¸­ç»™å‡ºå®ä¾‹ã€‚</p>

<p><strong>å¯†åº¦å‡½æ•°å›¾</strong>
è¯´åˆ°ç›´æ–¹å›¾ï¼Œå°±ä¸å¾—ä¸è¯´å¯†åº¦å‡½æ•°å›¾ï¼Œæ•°æ®å’Œæ˜ å°„å’Œç›´æ–¹å›¾æ˜¯ä¸€æ ·çš„ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯å‡ ä½•å¯¹è±¡ï¼Œgeom_histogramå‘Šè¯‰ggplotè¦ç”»ç›´æ–¹å›¾ï¼Œè€Œgeom_densityåˆ™è¯´æˆ‘ä»¬è¦ç”»å¯†åº¦å‡½æ•°å›¾ï¼Œåœ¨æˆ‘ä»¬ç†Ÿæ‚‰å‰é¢è¯­æ³•çš„æƒ…å†µä¸‹ï¼Œå¾ˆå®¹æ˜“ç”»å‡ºï¼š</p>

<pre><code>ggplot(small)+geom_density(aes(x=price, colour=cut))
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig9.png" alt="" /></p>

<pre><code>ggplot(small)+geom_density(aes(x=price,fill=clarity))
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig10.png" alt="" /></p>

<p>colourå‚æ•°æŒ‡å®šçš„æ˜¯æ›²çº¿çš„é¢œè‰²ï¼Œè€Œfillæ˜¯å¾€æ›²çº¿ä¸‹é¢å¡«å……é¢œè‰²ã€‚</p>

<p><strong>ç®±å¼å›¾</strong>
æ•°æ®é‡æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œç”¨ç›´æ–¹å›¾å’Œå¯†åº¦å‡½æ•°å›¾æ˜¯è¡¨ç¤ºæ•°æ®åˆ†å¸ƒçš„å¥½æ–¹æ³•ï¼Œè€Œåœ¨æ•°æ®é‡è¾ƒå°‘çš„æ—¶å€™ï¼Œæ¯”å¦‚å¾ˆå¤šçš„ç”Ÿç‰©å®éªŒï¼Œå¾ˆå¤šæ—¶å€™å¤§å®¶éƒ½æ˜¯ä½¿ç”¨æŸ±çŠ¶å›¾+errorbarçš„å½¢å¼æ¥è¡¨ç¤ºï¼Œä¸è¿‡è¿™ç§æ–¹æ³•çš„ä¿¡æ¯é‡éå¸¸ä½ï¼Œè¢«<a href="http://guangchuangyu.github.io/2014/03/boxplot/">Nature Methodsåæ§½</a>ï¼Œè¿™ç§æƒ…å†µæ¨èä½¿ç”¨boxplotã€‚</p>

<pre><code>ggplot(small)+geom_boxplot(aes(x=cut, y=price,fill=color))
</code></pre>

<p>geom_boxplotå°†æ•°æ®æ˜ å°„åˆ°ç®±å¼å›¾ä¸Šï¼Œä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬åº”è¯¥å¾ˆç†Ÿæ‚‰äº†ï¼ŒæŒ‰åˆ‡å·¥(cut)åˆ†ç±»ï¼Œå¯¹ä»·æ ¼(price)å˜é‡ç”»ç®±å¼å›¾ï¼Œå†åˆ†å¼€æŒ‰ç…§colorå˜é‡å¡«å……é¢œè‰²ã€‚</p>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig11.png" alt="" /></p>

<p>ggplot2æä¾›äº†å¾ˆå¤šçš„geom_xxxå‡½æ•°ï¼Œå¯ä»¥æ»¡è¶³æˆ‘ä»¬å¯¹å„ç§å›¾å½¢ç»˜åˆ¶çš„éœ€æ±‚ã€‚</p>

<pre><code>geom_abline     geom_area   
geom_bar        geom_bin2d
geom_blank      geom_boxplot    
geom_contour    geom_crossbar
geom_density    geom_density2d  
geom_dotplot    geom_errorbar
geom_errorbarh  geom_freqpoly   
geom_hex        geom_histogram
geom_hline      geom_jitter     
geom_line       geom_linerange
geom_map        geom_path   
geom_point      geom_pointrange
geom_polygon    geom_quantile   
geom_raster     geom_rect
geom_ribbon     geom_rug    
geom_segment    geom_smooth
geom_step       geom_text   
geom_tile       geom_violin
geom_vline
</code></pre>

<h3 id="æ ‡å°º-scale">æ ‡å°ºï¼ˆScaleï¼‰</h3>

<p>å‰é¢æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†ï¼Œç”»å›¾å°±æ˜¯åœ¨åšæ˜ å°„ï¼Œä¸ç®¡æ˜¯æ˜ å°„åˆ°ä¸åŒçš„å‡ ä½•å¯¹è±¡ä¸Šï¼Œè¿˜æ˜¯æ˜ å°„å„ç§å›¾å½¢å±æ€§ã€‚è¿™ä¸€å°èŠ‚ä»‹ç»æ ‡å°ºï¼Œåœ¨å¯¹å›¾å½¢å±æ€§è¿›è¡Œæ˜ å°„ä¹‹åï¼Œä½¿ç”¨æ ‡å°ºå¯ä»¥æ§åˆ¶è¿™äº›å±æ€§çš„æ˜¾ç¤ºæ–¹å¼ï¼Œæ¯”å¦‚åæ ‡åˆ»åº¦ï¼Œå¯èƒ½é€šè¿‡æ ‡å°ºï¼Œå°†åæ ‡è¿›è¡Œå¯¹æ•°å˜æ¢ï¼›æ¯”å¦‚é¢œè‰²å±æ€§ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ ‡å°ºï¼Œè¿›è¡Œæ”¹å˜ã€‚</p>

<pre><code>ggplot(small)+geom_point(aes(x=carat, y=price, shape=cut, colour=color))+scale_y_log10()+scale_colour_manual(values=rainbow(7))
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig12.png" alt="" /></p>

<p>ä»¥æ•°æ®ï¼ˆDataï¼‰å’Œæ˜ å°„ï¼ˆMapping)ä¸€èŠ‚ä¸­æ‰€ç”»æ•£ç‚¹å›¾ä¸ºä¾‹ï¼Œå°†Yè½´åæ ‡è¿›è¡Œlog10å˜æ¢ï¼Œå†è‡ªå·±å®šä¹‰é¢œè‰²ä¸ºå½©è™¹è‰²ã€‚</p>

<h3 id="ç»Ÿè®¡å˜æ¢-statistics">ç»Ÿè®¡å˜æ¢ï¼ˆStatisticsï¼‰</h3>

<p>ç»Ÿè®¡å˜æ¢å¯¹åŸå§‹æ•°æ®è¿›è¡ŒæŸç§è®¡ç®—ï¼Œç„¶ååœ¨å›¾ä¸Šè¡¨ç¤ºå‡ºæ¥ï¼Œä¾‹å¦‚å¯¹æ•£ç‚¹å›¾ä¸ŠåŠ ä¸€æ¡å›å½’çº¿ã€‚</p>

<pre><code>ggplot(small, aes(x=carat, y=price))+geom_point()+scale_y_log10()+stat_smooth()
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig13.png" alt="" /></p>

<p>è¿™é‡Œå°±ä¸æŒ‰é¢œè‰²ã€åˆ‡å·¥æ¥åˆ†äº†ï¼Œä¸ç„¶ggplotä¼šæŒ‰ä¸åŒçš„åˆ†ç±»å˜é‡åˆ†åˆ«åšå›å½’ï¼Œå›¾å°±å¾ˆä¹±ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦è¿™æ ·åšï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ†é¢ï¼Œè¿™ä¸ªå°†åœ¨åé¢ä»‹ç»ã€‚</p>

<p>è¿™é‡Œï¼Œaesæ‰€æä¾›çš„å‚æ•°ï¼Œå°±é€šè¿‡ggplotæä¾›ï¼Œè€Œä¸æ˜¯æä¾›ç»™geom_pointï¼Œå› ä¸ºggploté‡Œçš„å‚æ•°ï¼Œç›¸å½“äºå…¨å±€å˜é‡ï¼Œgeom_point()å’Œstat_smooth()éƒ½çŸ¥é“x,yçš„æ˜ å°„ï¼Œå¦‚æœåªæä¾›ç»™geom_point()ï¼Œåˆ™ç›¸å½“äºæ˜¯å±€éƒ¨å˜é‡ï¼Œgeom_pointçŸ¥é“è¿™ç§æ˜ å°„ï¼Œè€Œstat_smoothä¸çŸ¥é“ï¼Œå½“ç„¶ä½ å†ç»™stat_smoothä¹Ÿæä¾›x,yçš„æ˜ å°„ï¼Œä¸è¿‡å…±ç”¨çš„æ˜ å°„ï¼Œè¿˜æ˜¯æä¾›ç»™ggplotå¥½ã€‚
ggplot2æä¾›äº†å¤šç§ç»Ÿè®¡å˜æ¢æ–¹å¼ï¼š</p>

<pre><code>stat_abline       stat_contour      stat_identity     stat_summary
stat_bin          stat_density      stat_qq           stat_summary2d
stat_bin2d        stat_density2d    stat_quantile     stat_summary_hex
stat_bindot       stat_ecdf         stat_smooth       stat_unique
stat_binhex       stat_function     stat_spoke        stat_vline
stat_boxplot      stat_hline        stat_sum          stat_ydensity
</code></pre>

<p>ç»Ÿè®¡å˜æ¢æ˜¯éå¸¸é‡è¦çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å†™å‡½æ•°ï¼ŒåŸºäºåŸå§‹æ•°æ®åšæŸç§è®¡ç®—ï¼Œå¹¶åœ¨å›¾ä¸Šè¡¨ç°å‡ºæ¥ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å®ƒæ”¹å˜geom_xxxå‡½æ•°ç”»å›¾çš„é»˜è®¤ç»Ÿè®¡å‚æ•°ã€‚
æ¯”å¦‚æˆ‘åœ¨<a href="http://www.sciencedirect.com/science/article/pii/S1874391912007567">Proteomic investigation of the interactome of FMNL1 in hematopoietic cells unveils a role in calcium-dependent membrane plasticity</a>çš„å›¾ä¸€ä¸­ï¼Œå°±æŠŠboxplotçš„ä¸­ä½çº¿æ›¿æ¢æˆäº†å¹³å‡å€¼æ¥ä½œå›¾ã€‚</p>

<h3 id="åæ ‡ç³»ç»Ÿ-coordinante">åæ ‡ç³»ç»Ÿï¼ˆCoordinanteï¼‰</h3>

<p>åæ ‡ç³»ç»Ÿæ§åˆ¶åæ ‡è½´ï¼Œå¯ä»¥è¿›è¡Œå˜æ¢ï¼Œä¾‹å¦‚XYè½´ç¿»è½¬ï¼Œç¬›å¡å°”åæ ‡å’Œæåæ ‡è½¬æ¢ï¼Œä»¥æ»¡è¶³æˆ‘ä»¬çš„å„ç§éœ€æ±‚ã€‚</p>

<p>åæ ‡è½´ç¿»è½¬ç”±coord_flip()å®ç°</p>

<pre><code>ggplot(small)+geom_bar(aes(x=cut, fill=cut))+coord_flip()
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig14.png" alt="" /></p>

<p>è€Œè½¬æ¢æˆæåæ ‡å¯ä»¥ç”±coord_polar()å®ç°ï¼š</p>

<pre><code>ggplot(small)+geom_bar(aes(x=factor(1), fill=cut))+coord_polar(theta=&quot;y&quot;)
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2.fig15.png" alt="" /></p>

<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¹‹å‰ä»‹ç»å¸¸ç”¨å›¾å½¢ç”»æ³•æ—¶æ²¡æœ‰æåŠé¥¼å›¾çš„åŸå› ï¼Œé¥¼å›¾å®é™…ä¸Šå°±æ˜¯æŸ±çŠ¶å›¾ï¼Œåªä¸è¿‡æ˜¯ä½¿ç”¨æåæ ‡è€Œå·²ï¼ŒæŸ±çŠ¶å›¾çš„é«˜åº¦ï¼Œå¯¹åº”äºé¥¼å›¾çš„å¼§åº¦ï¼Œé¥¼å›¾å¹¶ä¸æ¨èï¼Œå› ä¸ºäººç±»çš„çœ¼ç›æ¯”è¾ƒå¼§åº¦çš„èƒ½åŠ›æ¯”ä¸ä¸Šæ¯”è¾ƒé«˜åº¦ï¼ˆæŸ±çŠ¶å›¾ï¼‰</p>

<p>è¿˜å¯ä»¥ç”»é¶å¿ƒå›¾ï¼š</p>

<pre><code>ggplot(small)+geom_bar(aes(x=factor(1), fill=cut))+coord_polar()
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig16.png" alt="" /></p>

<p>ä»¥åŠé£ç«ç‘°å›¾(windrose)</p>

<pre><code>ggplot(small)+geom_bar(aes(x=clarity, fill=cut))+coord_polar()
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig17.png" alt="" /></p>

<h3 id="å›¾å±‚-layer">å›¾å±‚ï¼ˆLayerï¼‰</h3>

<p>photoshopæµè¡Œçš„åŸå› åœ¨äºPS
3.0æ—¶å¼•å…¥å›¾å±‚çš„æ¦‚å¿µï¼Œggplotçš„ç‰›Bä¹‹å¤„åœ¨äºä½¿ç”¨+å·æ¥å åŠ å›¾å±‚ï¼Œè¿™å ªç§°æ˜¯æ³›å‹ç¼–ç¨‹çš„å…¸èŒƒã€‚
åœ¨å‰é¢æ•£ç‚¹å›¾ä¸Šï¼Œæˆ‘ä»¬å·²ç»è§è¯†è¿‡ï¼ŒåŠ ä¸Šäº†ä¸€ä¸ªå›å½’çº¿æ‹Ÿåˆçš„å›¾å±‚ã€‚</p>

<p>æœ‰äº†å›¾å±‚çš„æ¦‚å¿µï¼Œä½¿ç”¨ggplotç”»èµ·å›¾æ¥ï¼Œå°±æ›´åŠ å¾—å¿ƒåº”æ‰‹ã€‚</p>

<p>åšä¸ºå›¾å±‚çš„ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­æ˜¯<a href="http://guangchuangyu.github.io/2011/08/the-batman-equation/">è™è ä¾ logo</a>ï¼Œbatman
logoç”±6ä¸ªå‡½æ•°ç»„æˆï¼Œåœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘å…ˆç”»ç¬¬ä¸€ä¸ªå‡½æ•°ï¼Œä¹‹åå†åŠ ä¸€ä¸ªå›¾å±‚ç”»ç¬¬äºŒä¸ªå‡½æ•°ï¼Œä¸æ–­é‡å¤è¿™ä¸€è¿‡ç¨‹ï¼Œç›´åˆ°å…­ä¸ªå‡½æ•°å…¨éƒ¨ç”»å¥½ã€‚</p>

<pre><code>require(ggplot2)
f1 &lt;- function(x) {
    y1 &lt;- 3*sqrt(1-(x/7)^2)
    y2 &lt;- -3*sqrt(1-(x/7)^2)
    y &lt;- c(y1,y2)
    d &lt;- data.frame(x=x,y=y)
    d &lt;- d[d$y &gt; -3*sqrt(33)/7,]
    return(d)
}
 
x1 &lt;- c(seq(3, 7, 0.001), seq(-7, -3, 0.001))
d1 &lt;- f1(x1)
p1 &lt;- ggplot(d1,aes(x,y)) + geom_point(color=&quot;red&quot;) +xlab(&quot;&quot;) + ylab(&quot;&quot;) + theme_bw()
 
x2 &lt;- seq(-4,4, 0.001)
y2 &lt;- abs(x2/2)-(3*sqrt(33)-7)*x2^2/112-3 + sqrt(1-(abs(abs(x2)-2)-1)^2)
d2 &lt;- data.frame(x2=x2, y2=y2)
p2 &lt;- p1 + geom_point(data=d2, aes(x=x2,y=y2), color=&quot;yellow&quot;)
 
x3 &lt;- c(seq(0.75,1,0.001), seq(-1,-0.75,0.001))
y3 &lt;- 9-8*abs(x3)
d3 &lt;- data.frame(x3=x3, y3=y3)
p3 &lt;- p2+geom_point(data=d3, aes(x=x3,y=y3), color=&quot;green&quot;)
 
x4 &lt;- c(seq(0.5,0.75,0.001), seq(-0.75,-0.5,0.001))
y4 &lt;- 3*abs(x4)+0.75
d4 &lt;- data.frame(x4=x4,y4=y4)
p4 &lt;- p3+geom_point(data=d4, aes(x=x4,y=y4), color=&quot;steelblue&quot;)
  
x5 &lt;- seq(-0.5,0.5,0.001)
y5 &lt;- rep(2.25,length(x5))
d5 &lt;- data.frame(x5=x5,y5=y5)
p5 &lt;- p4+geom_point(data=d5, aes(x=x5,y=y5))
 
x6 &lt;- c(seq(-3,-1,0.001), seq(1,3,0.001))
y6 &lt;- 6 * sqrt(10)/7 +
    (1.5 - 0.5 * abs(x6)) * sqrt(abs(abs(x6)-1)/(abs(x6)-1)) -
    6 * sqrt(10) * sqrt(4-(abs(x6)-1)^2)/14
d6 &lt;- data.frame(x6=x6,y6=y6)
p6 &lt;- p5+geom_point(data=d6,aes(x=x6,y=y6), colour=&quot;blue&quot;)

multiplot &lt;- function (..., plotlist = NULL, cols = 1, layout = NULL) {
    plots &lt;- c(list(...), plotlist)
    numPlots = length(plots)
    if (is.null(layout)) {
        layout &lt;- matrix(seq(1, cols * ceiling(numPlots/cols)),
            ncol = cols, nrow = ceiling(numPlots/cols))
    }
    if (numPlots == 1) {
        print(plots[[1]])
    }
    else {
        grid.newpage()
        pushViewport(viewport(layout = grid.layout(nrow(layout),
            ncol(layout))))
        for (i in 1:numPlots) {
            matchidx &lt;- as.data.frame(which(layout == i, arr.ind = TRUE))
            print(plots[[i]], vp = viewport(layout.pos.row = matchidx$row,
                layout.pos.col = matchidx$col))
        }
    }
}

multiplot(p1,p2,p3,p4,p5,p6, cols=2)
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_batman.png" alt="" /></p>

<h3 id="åˆ†é¢-facet">åˆ†é¢ï¼ˆFacetï¼‰</h3>

<p>åœ¨ã€Š<a href="http://book.douban.com/subject/24527091/">ggplot2: æ•°æ®åˆ†æä¸å›¾å½¢è‰ºæœ¯</a>ã€‹ä¸€ä¹¦çš„ç¿»è¯‘ä¸­ï¼Œä¸€å¼€å§‹è¯‘è€…æŠŠfacetç¿»è¯‘æˆåˆ‡ç‰‡ï¼Œæˆ‘åœ¨æ ¡ç¨¿çš„æ—¶å€™å‘ç°äº†ï¼Œç»™ä»–ä»¬å†™ä¿¡ï¼Œæ¨èç¿»è¯‘æˆåˆ†é¢ï¼Œå¦‚æœæ˜¯sliceè¿™ä¸ªè¯ï¼Œç¿»è¯‘æˆåˆ‡ç‰‡å€’æ˜¯å¾ˆç²¾å‡†ï¼ŒBSDçš„ç¡¬ç›˜åˆ†åŒºå°±å«sliceï¼Œä½†facetä»è¯æºä¸Šçœ‹å°±æ˜¯å°è„¸çš„æ„æ€ï¼Œç¿»è¯‘æˆåˆ†é¢æ‰åˆ°ä½ã€‚ç»™ä»–ä»¬å†™ä¿¡çš„æ—¶å€™ï¼Œæˆ‘è¿˜ä¸“é—¨æŸ¥äº†<a href="http://dict.cnki.net/">CNKIç¿»è¯‘åŠ©æ‰‹</a>ï¼Œå‘ç°è¿™è¯åœ¨ä¿¡æ¯å­¦ä¸­ï¼Œç¿»æˆåˆ†é¢æ—©å·²æ˜¯å›ºå®šçš„ã€‚æˆ‘æ„Ÿè§‰è¿™æ˜¯æˆ‘å¯¹è¿™æœ¬ä¹¦ç¿»è¯‘çš„æœ€å¤§è´¡çŒ®ï¼Œæ ¡ç¨¿è¿‡ç¨‹ä¸­å‘ç°çš„å°‘é‡å°é—®é¢˜è¿œæ¯”ä¸ä¸Šè¿™ä¸ªå…³é”®è¯æ„æ€çš„æŠŠæ¡ä¸Šã€‚</p>

<p>åˆ†é¢å¯ä»¥è®©æˆ‘ä»¬æŒ‰ç…§æŸç§ç»™å®šçš„æ¡ä»¶ï¼Œå¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œç„¶ååˆ†åˆ«ç”»å›¾ã€‚
åœ¨ç»Ÿè®¡å˜æ¢ä¸€èŠ‚ä¸­ï¼Œæåˆ°å¦‚æœæŒ‰åˆ‡å·¥åˆ†ç»„ä½œå›å½’çº¿ï¼Œæ˜¾ç„¶å›¾ä¼šå¾ˆä¹±ï¼Œæœ‰äº†åˆ†é¢åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†åˆ«ä½œå›¾ã€‚</p>

<pre><code>ggplot(small, aes(x=carat, y=price))+geom_point(aes(colour=cut))+scale_y_log10() +facet_wrap(~cut)+stat_smooth()
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig18.png" alt="" /></p>

<h3 id="ä¸»é¢˜-theme">ä¸»é¢˜ï¼ˆThemeï¼‰</h3>

<p>é€šè¿‡ggplotç”»å›¾ä¹‹åï¼Œæˆ‘ä»¬å¯èƒ½è¿˜éœ€è¦å¯¹å›¾è¿›è¡Œå®šåˆ¶ï¼Œåƒtitle, xlab,
ylabè¿™äº›é«˜é¢‘éœ€è¦ç”¨åˆ°çš„ï¼Œè‡ªä¸ç”¨è¯´ï¼Œggplot2æä¾›äº†ggtitle(),
xlab()å’Œylab()æ¥å®ç°ã€‚ æ¯”å¦‚ï¼š</p>

<pre><code>p &lt;- ggplot(small)+geom_boxplot(aes(x=cut, y=price,fill=color))
p + ggtitle(&quot;Price vs Cut&quot;)+xlab(&quot;Cut&quot;)+ylab(&quot;Price&quot;)
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2.fig19.png" alt="" /></p>

<p>ä½†æ˜¯è¿™ä¸ªè¿œè¿œæ»¡è¶³ä¸äº†éœ€æ±‚ï¼Œæˆ‘ä»¬éœ€è¦æ”¹å˜å­—ä½“ï¼Œå­—ä½“å¤§å°ï¼Œåæ ‡è½´ï¼ŒèƒŒæ™¯ç­‰å„ç§å…ƒç´ ï¼Œè¿™éœ€è¦é€šè¿‡theme()å‡½æ•°æ¥å®Œæˆã€‚</p>

<p>ggplot2æä¾›ä¸€äº›å·²ç»å†™å¥½çš„ä¸»é¢˜ï¼Œæ¯”å¦‚<code>theme_grey()</code>ä¸ºé»˜è®¤ä¸»é¢˜ï¼Œæˆ‘ç»å¸¸ç”¨çš„<code>theme_bw()</code>ä¸ºç™½è‰²èƒŒæ™¯çš„ä¸»é¢˜ï¼Œè¿˜æœ‰<code>theme_classic()</code>ä¸»é¢˜ï¼Œå’ŒRçš„åŸºç¡€ç”»å›¾å‡½æ•°è¾ƒåƒã€‚</p>

<p>åˆ«å¤–ggthemesåŒ…æä¾›äº†ä¸€äº›ä¸»é¢˜å¯ä¾›ä½¿ç”¨ï¼ŒåŒ…æ‹¬ï¼š</p>

<pre><code>theme_economist theme_economist_white
theme_wsj       theme_excel
theme_few       theme_foundation
theme_igray     theme_solarized
theme_stata     theme_tufte
</code></pre>

<pre><code>require(ggthemes)
p + theme_wsj()
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig20.png" alt="" /></p>

<p>åœ¨2013å¹´å‘è¡¨çš„æ–‡ç« <a href="http://pubs.rsc.org/en/content/articlelanding/2013/mt/c3mt00126a#!divAbstract">Putative cobalt- and nickel-binding proteins and motifs in Streptococcus pneumoniae</a>ä¸­çš„å›¾3å°±æ˜¯ä½¿ç”¨<code>theme_stata</code>æ¥ç”»çš„ã€‚</p>

<p>è‡³äºå¦‚ä½•æ”¹å˜è¿™äº›å…ƒç´ ï¼Œæˆ‘è§‰å¾—æˆ‘ä¹‹å‰<a href="http://guangchuangyu.github.io/2012/02/draw-chinese-character-jiong-using-ggplot2/">ç”»å›§å­—çš„åšæ–‡</a>å¯ä»¥åšä¸ºä¾‹å­ï¼š</p>

<pre><code>f &lt;- function(x) 1/(x^2-1)
x &lt;- seq(-3,3, by=0.001)
y &lt;- f(x)
d &lt;- data.frame(x=x,y=y)
 
p &lt;- ggplot()
p &lt;- p+geom_rect(fill = &quot;white&quot;,color=&quot;black&quot;,size=3,
aes(NULL, NULL,xmin=-3, xmax=3,
ymin=-3,ymax=3, alpha=0.1))
 
p &lt;- p + geom_line(data=d, aes(x,y), size=3)+ylim(-3,3)
theme_null &lt;- function() {
    theme_bw() %+replace%
    theme(axis.text.x=element_blank(),
    axis.text.y=element_blank(),
    legend.position=&quot;none&quot;,
    panel.grid.minor=element_blank(),
    panel.grid.major=element_blank(),
    panel.background=element_blank(),
    axis.ticks=element_blank(),
    panel.border=element_blank())
}
 
p+theme_null()+xlab(&quot;&quot;)+ylab(&quot;&quot;)
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2012/02/jiong.png" alt="" /></p>

<p>è¯¦ç»†çš„è¯´æ˜ï¼Œå¯ä»¥å‚è€ƒ?themeçš„å¸®åŠ©æ–‡æ¡£ã€‚</p>

<h3 id="äºŒç»´å¯†åº¦å›¾">äºŒç»´å¯†åº¦å›¾</h3>

<p>åœ¨è¿™ä¸ªæ–‡æ¡£é‡Œï¼Œä¸ºäº†ä½œå›¾æ–¹ä¾¿ï¼Œæˆ‘ä»¬ä½¿ç”¨diamondsæ•°æ®é›†çš„ä¸€ä¸ªå­é›†ï¼Œå¦‚æœä½¿ç”¨å…¨é›†ï¼Œæ•°æ®é‡å¤ªå¤§ï¼Œç”»å‡ºæ¥æ•£ç‚¹å°±ç³Šäº†ï¼Œè¿™ç§æƒ…å†µå¯ä»¥ä½¿ç”¨äºŒç»´å¯†åº¦åŠ›æ¥å‘ˆç°ã€‚</p>

<pre><code>ggplot(diamonds, aes(carat, price))+ stat_density2d(aes(fill = ..level..), geom=&quot;polygon&quot;)+ scale_fill_continuous(high='darkred',low='darkgreen')
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2.fig22.png" alt="" /></p>

<h3 id="ggplot2å®ä¾‹">ggplot2å®ä¾‹</h3>

<p>è´è¶å›¾ï¼šè¯¦è§ã€ŠModern Applied Statistics with S-PLUSã€‹ç¬¬ä¸€ç« ã€‚</p>

<pre><code>theta &lt;- seq(0,24*pi, len=2000)
radius &lt;- exp(cos(theta)) - 2*cos(4*theta) + sin(theta/12)^5
dd &lt;- data.frame(x=radius*sin(theta), y=radius*cos(theta))
ggplot(dd, aes(x, y))+geom_path()+theme_null()+xlab(&quot;&quot;)+ylab(&quot;&quot;)
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_fig25.png" alt="" /></p>

<p>è¿™ä¸ªå›¾ï¼Œæˆ‘æƒ³å±•ç¤ºçš„æ˜¯å¯¹ç»†èŠ‚çš„ä¿®æ”¹ä¸Šï¼Œåœ¨ç”»å›§å­—çš„æ—¶å€™ï¼ŒæŠŠç”»å¸ƒä¸Šçš„å…ƒç´ éƒ½ç»™æ¸…é™¤äº†ï¼Œæˆ‘æŠŠå®ƒå®šä¹‰ä¸ºtheme_nullä¸»é¢˜ï¼Œåœ¨è¿™é‡Œï¼Œç›´æ¥åº”ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å½¢æˆè‡ªå·±çš„ç”»å›¾é£æ ¼ï¼Œå¹¶å†™å‡ºè‡ªå·±çš„ä¸»é¢˜å‡½æ•°å›ºå®šä¸‹æ¥ã€‚</p>

<p>æœ€åä»¥ç”Ÿç‰©ç•Œä¸­å¸¸ç”¨çš„æŸ±çŠ¶å›¾+è¯¯å·®å›¾ä¸ºå®ä¾‹ï¼Œå±•ç¤ºggplot2éå¸¸çµæ´»çš„å›¾å±‚ã€‚ä»¥æˆ‘2011å¹´å‘è¡¨çš„æ–‡ç« <a href="http://guangchuangyu.github.io/2010/11/phosphoproteome-profile-of-human-lung-cancer-cell-line-a549/">Phosphoproteome
profile of human lung cancer cell line
A549</a>ä¸­çš„westernblotæ•°æ®ä¸ºä¾‹ã€‚è¿™ä¸ªå®ä¾‹å±•ç¤ºäº†å›¾å±‚ï¼Œæ ‡å°ºï¼Œä¸»é¢˜ï¼Œæ³¨é‡Šå’Œå„ç§ç»†èŠ‚å¾®è°ƒå¤šç§å…ƒç´ ã€‚</p>

<pre><code>Normal &lt;- c(0.83, 0.79, 0.99, 0.69)
Cancer &lt;- c(0.56, 0.56, 0.64, 0.52)
m &lt;- c(mean(Normal), mean(Cancer))
s &lt;- c(sd(Normal), sd(Cancer))
d &lt;- data.frame(V=c(&quot;Normal&quot;, &quot;Cancer&quot;), mean=m, sd=s)
d$V &lt;- factor(d$V, levels=c(&quot;Normal&quot;, &quot;Cancer&quot;))

p &lt;- ggplot(d, aes(V, mean, fill=V, width=.5))
p &lt;- p+geom_errorbar(aes(ymin=mean, ymax=mean+sd, width=.2), 
                     position=position_dodge(width=.8))
p &lt;- p + geom_bar(stat=&quot;identity&quot;, position=position_dodge(width=.8), colour=&quot;black&quot;)
p &lt;- p + scale_fill_manual(values=c(&quot;grey80&quot;, &quot;white&quot;))
p &lt;- p + theme_bw() +theme(legend.position=&quot;none&quot;) + xlab(&quot;&quot;) + ylab(&quot;&quot;)
p &lt;- p + theme(axis.text.x = element_text(face=&quot;bold&quot;, size=12), 
               axis.text.y = element_text(face=&quot;bold&quot;, size=12))
p &lt;- p+scale_y_continuous(expand=c(0,0), limits=c(0, 1.2), breaks=seq(0, 1.2, by=.2))
p &lt;- p+geom_segment(aes(x=1, y=.98, xend=1, yend=1.1))
p &lt;- p+geom_segment(aes(x=2, y=.65, xend=2, yend=1.1))
p &lt;- p+geom_segment(aes(x=1, y=1.1, xend=2, yend=1.1))
p &lt;- p + annotate(&quot;text&quot;, x=1.5, y=1.08, label=&quot;*&quot;)
print(p)
</code></pre>

<p><img src="http://guangchuangyu.github.io/blog_images/2014/05/ggplot2_26.png" alt="" /></p>

<p>æ›´å¤šå®ä¾‹ï¼Œå¯ä»¥å‚è€ƒæˆ‘ä½¿ç”¨<a href="http://guangchuangyu.github.io/2011/08/ggplot2-version-of-figures-in-25-recipes-for-getting-started-with-r/">ggplot2å®ç°<25 Recipes for Getting Started with R>ä¸€ä¹¦ä¸­çš„æ‰€æœ‰å›¾ç‰‡</a>.</p>
                        
                        <center><span class="zaln"><a href="https://guangchuangyu.github.io/blog_images/pay_qrcode.png" class="zb">èµèµ</a></span></center>
                        <center><span class="zaln"><a href="https://guangchuangyu.github.io/cn/2017/11/bmc-journal-protects-paper-of-plagiarism/" class="zb">æŠµåˆ¶BMCï¼ŒåŒ¹å¤«æœ‰è´£</a></span></center>
                    </div>
                </div>
                <div id="post-footer" class="post-footer main-content-wrap">
                    
                    
                    
                    
                    <div class="post-footer-tags">
                        <span class="text-color-light text-small">TAGGED IN</span><br/>
                        
  <a class="tag tag--primary tag--small" href="https://guangchuangyu.github.io/cn//tags/ggplot2/">ggplot2</a>

                    </div>
                    
                    
                    
                    <div class="post-actions-wrap">
  <nav>
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://guangchuangyu.github.io/cn/2014/06/use-linux-desktop-again/" data-tooltip="use linux desktop again">
          
            <i class="fa fa-angle-left"></i>
            <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
          </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://guangchuangyu.github.io/cn/2014/05/%E6%9B%B4%E6%94%B9%E7%99%BE%E5%BA%A6%E4%BA%91%E5%90%8C%E6%AD%A5%E7%9B%98%E8%B7%AF%E5%BE%84/" data-tooltip="æ›´æ”¹ç™¾åº¦äº‘åŒæ­¥ç›˜è·¯å¾„">
          
            <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
            <i class="fa fa-angle-right"></i>
          </a>
        </li>
      
    </ul>
  </nav>
  <ul class="post-actions post-action-share">
    
      <li class="post-action hide-lg hide-md hide-sm">
        <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
          <i class="fa fa-share-alt"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https%3a%2f%2fguangchuangyu.github.io%2fcn%2f2014%2f05%2fuse-ggplot2%2f">
          <i class="fa fa-google-plus"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fguangchuangyu.github.io%2fcn%2f2014%2f05%2fuse-ggplot2%2f">
          <i class="fa fa-facebook-official"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https%3a%2f%2fguangchuangyu.github.io%2fcn%2f2014%2f05%2fuse-ggplot2%2f">
          <i class="fa fa-twitter"></i>
        </a>
      </li>
    
    
      <li class="post-action">
        <a class="post-action-btn btn btn--default" href="#disqus_thread">
          <i class="fa fa-comment-o"></i>
        </a>
      </li>
    
    <li class="post-action">
      
        <a class="post-action-btn btn btn--default" href="#">
      
        <i class="fa fa-list"></i>
      </a>
    </li>
  </ul>
</div>


                    
                    
                    <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
                    
                    
                </div>
            </article>
            <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2018 Guangchuang Yu. All Rights Reserved
  </span>
</footer>

        </div>
        <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
            <div class="post-actions-wrap">
  <nav>
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://guangchuangyu.github.io/cn/2014/06/use-linux-desktop-again/" data-tooltip="use linux desktop again">
          
            <i class="fa fa-angle-left"></i>
            <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
          </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://guangchuangyu.github.io/cn/2014/05/%E6%9B%B4%E6%94%B9%E7%99%BE%E5%BA%A6%E4%BA%91%E5%90%8C%E6%AD%A5%E7%9B%98%E8%B7%AF%E5%BE%84/" data-tooltip="æ›´æ”¹ç™¾åº¦äº‘åŒæ­¥ç›˜è·¯å¾„">
          
            <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
            <i class="fa fa-angle-right"></i>
          </a>
        </li>
      
    </ul>
  </nav>
  <ul class="post-actions post-action-share">
    
      <li class="post-action hide-lg hide-md hide-sm">
        <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
          <i class="fa fa-share-alt"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https%3a%2f%2fguangchuangyu.github.io%2fcn%2f2014%2f05%2fuse-ggplot2%2f">
          <i class="fa fa-google-plus"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fguangchuangyu.github.io%2fcn%2f2014%2f05%2fuse-ggplot2%2f">
          <i class="fa fa-facebook-official"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https%3a%2f%2fguangchuangyu.github.io%2fcn%2f2014%2f05%2fuse-ggplot2%2f">
          <i class="fa fa-twitter"></i>
        </a>
      </li>
    
    
      <li class="post-action">
        <a class="post-action-btn btn btn--default" href="#disqus_thread">
          <i class="fa fa-comment-o"></i>
        </a>
      </li>
    
    <li class="post-action">
      
        <a class="post-action-btn btn btn--default" href="#">
      
        <i class="fa fa-list"></i>
      </a>
    </li>
  </ul>
</div>


        </div>
        <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <ul class="share-options">
    <li class="share-option">
      <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https%3a%2f%2fguangchuangyu.github.io%2fcn%2f2014%2f05%2fuse-ggplot2%2f">
        <i class="fa fa-google-plus"></i><span>Share on Google Plus</span>
      </a>
    </li>
    <li class="share-option">
      <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fguangchuangyu.github.io%2fcn%2f2014%2f05%2fuse-ggplot2%2f">
        <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
      </a>
    </li>
    <li class="share-option">
      <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3a%2f%2fguangchuangyu.github.io%2fcn%2f2014%2f05%2fuse-ggplot2%2f">
        <i class="fa fa-twitter"></i><span>Share on Twitter</span>
      </a>
    </li>
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/7466436733e8691a63a9f7af4651e014?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Guangchuang Yu</h4>
    
      <div id="about-card-bio">a senior-in-age-but-not-senior-in-knowledge bioinformatician</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Postdoc researcher
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Hong Kong
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://guangchuangyu.github.io/cn/2018/02/elementaryos/">
                <h3 class="media-heading">elementary-ç¾è§‚è€Œæ˜“ç”¨çš„Linuxå‘è¡Œç‰ˆ</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p><img src="http://guangchuangyu.github.io/blog_images/2018/linux_win.jpg" alt="" /></p>

<p>æƒ³å½“å¹´è¿˜åœ¨è¯»æœ¬ç§‘é‚£ä¼šï¼Œdebianè¿˜æ˜¯æ¯”è¾ƒé˜³æ˜¥çš„ä¸œè¥¿ï¼Œç„¶åå°±è¢«ubuntuç»™æ™®åŠäº†ï¼Œubuntuæˆ‘å®é™…ä¸Šæ˜¯ä¸å–œæ¬¢çš„ï¼Œå¦‚æœæœ‰linuxçš„é—®é¢˜ï¼Œæœå‡ºæ¥æ˜¯ubuntuçš„é“¾æ¥ï¼Œæˆ‘åŸºæœ¬ä¸ä¼šç‚¹å¼€ï¼Œubuntuç”¨çš„äººå®åœ¨å¤ªå¤šï¼Œè€Œä¸”æ˜¯ç‰¹åˆ«å¤šçš„å°ç™½ï¼ŒçœŸæ­£å¥½çš„å‘è¡Œç‰ˆæ˜¯gentooå’Œarchï¼Œæ–‡æ¡£é½å…¨ï¼Œå°ç™½å°‘ã€‚æˆ‘ç›®å‰ä½¿ç”¨çš„å°±æ˜¯archï¼Œå› ä¸ºgentooå®åœ¨æ˜¯ç¬”è®°æœ¬åƒä¸æ¶ˆå¤©å¤©åœ¨ç¼–è¯‘ã€‚</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://guangchuangyu.github.io/cn/2018/02/changing-branch-length-of-outgroup/">
                <h3 class="media-heading">æ”¹å˜outgroupçš„æé•¿</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><blockquote>
<p>Hello all,</p>

<p>When I plot some data using ggtree, the out groups are on a very long branch length. The out groups are 75 and 76 in the example below.</p>

<p>I would like to keep the out groups in the tree but ignore their branch lengths to make presentation easier.</p>
</blockquote>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://guangchuangyu.github.io/cn/2018/02/reactome-icon/">
                <h3 class="media-heading">ç§’æ€ä¸€åˆ‡æ‰‹å·¥ç”»é€šè·¯çš„ç´ æ</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p><img src="http://guangchuangyu.github.io/blog_images/2018/reactome-icon/path.gif" alt="" /></p>

<p>åƒè¿™æ ·çš„é€šè·¯å›¾ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯æ‰‹å·¥ç”»çš„ï¼Œä¹Ÿæœ‰å‡ ä¸ªè½¯ä»¶å¯ä»¥åšè¿™äº‹ï¼Œä½†éƒ½ä¸æµè¡Œï¼Œæ¯•ç«Ÿä¹Ÿæ²¡å•¥ï¼Œæ— éæ˜¯ç´ æï¼Œæ‰€ä»¥å¤šåŠè¿˜æ˜¯ç´ æ+ç†Ÿæ‚‰çš„è½¯ä»¶ï¼Œæ¯”å¦‚æœ‰illustratorã€fireworksä»¥åŠæœ€å—æ¬¢è¿çš„powerpointã€‚åƒillustratorå¾ˆå¤šäººå·²ç»å¾ˆç†Ÿï¼Œæˆ–è€…powerpointç»å¯¹å¤Ÿå‚»ç“œæ“ä½œï¼Œæˆ‘ä»¬éœ€è¦çš„åªæ˜¯ç´ æï¼Œè‡ªåˆ¶ç´ æä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†è´¹æ—¶ä¸”æœ‰æ—¶å€™è¿˜ä¸å¤Ÿå¥½çœ‹ã€‚å¾ˆå¤šäººè¿˜åœ¨è´¹åŠ›æ”¶é›†ç½‘ä¸Šå¯ä»¥ä¸‹è½½åˆ°çš„å„ç§ç´ æï¼Œå¾ˆå¤šç´ æè¦†ç›–é¢ä¸å¤Ÿå¹¿ï¼Œè€Œä¸åŒæ¥æºçš„ç´ ææ··æ­æœ‰æ—¶å€™ä¼šæœ‰ç§ç”»é£ä¸å¯¹çš„æ„Ÿè§‰ã€‚</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://guangchuangyu.github.io/cn/2018/02/broken-heart/">
                <h3 class="media-heading">ä¸€åƒä¸ªä¼¤å¿ƒçš„ç†ç”±</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>çœ¼çœ‹ç€2æœˆ14å·å°±è¦åˆ°æ¥äº†ï¼Œåˆæ˜¯ä¸€å¹´ä¸€åº¦çš„ç”»çº¢å¿ƒè£…13çš„æ—¶å€™ï¼Œè¿™ç§äº‹æƒ…å·²ç»è¢«æˆ‘BSäº†ï¼Œè¯·çŒ›å‡»ï¼šã€Š<a href="http://mp.weixin.qq.com/s/Y8IHd6X4f49irXvD_M7bNw">ç”»â¤ï¸è£…geekä»€ä¹ˆçš„ï¼Œéƒ½å¼±çˆ†äº†ï¼ğŸ˜œ</a>ã€‹ã€‚çº¢å¿ƒå·²ç»æ²¡ä»€ä¹ˆå¥½ç”»çš„äº†ï¼Œç‰¹åˆ«æ˜¯åœ¨æˆ‘ç”»äº†ç”Ÿæ—¥è›‹ç³•ï¼Œå¹¶ç”¨è›‹ç³•ç”»çº¢å¿ƒä¹‹åï¼Œã€Š<a href="https://mp.weixin.qq.com/s/Iqcqo5YTy1qmXdsuIrlrYQ">130å²äº†ï¼Œç¥ä½ ç”Ÿå¿«</a>ã€‹ï¼Œæ˜¯é©´å­æ˜¯é©¬ï¼Œéƒ½æ²¡æ³•æ™’è‚Œè‚‰äº†ã€‚å½“ç„¶çº¢å¿ƒè¿˜æ˜¯ä¼šæœ‰æ‰€è°“çš„ç†å·¥å®…ç”·æ™’ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜ä¼šæœ‰å„ç§èŠ±æ‹›ï¼Œæ¥ç»™å•èº«ç‹—æ’’ç‹—ç²®ã€‚æƒ³è¦åŠ å…¥æ’’ç‹—ç²®å¤§å†›çš„ï¼Œå¿«ç‚¹çœ‹ã€Š<a href="http://mp.weixin.qq.com/s/2j9VRgar5ExSma6B7Yc3dw">å¦‚ä½•å‘Šåˆ«å•èº«</a>ã€‹ã€‚</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://guangchuangyu.github.io/cn/2018/02/job-wanted/">
                <h3 class="media-heading">Yå”è¦æ±‚èŒ</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>ä½™å…‰åˆ›
é¦™æ¸¯å¤§å­¦ ç”Ÿç‰©ä¿¡æ¯å­¦ åšå£«ï¼Œç›®å‰åœ¨æ¸¯å¤§ä»äº‹åšå£«åå·¥ä½œ
æ±‚èŒæ„å‘ï¼šå‰¯æ•™æˆä»¥ä¸Š
åœ°ç‚¹ï¼šä¸»è¦æ„å‘æ˜¯å¹¿å·å’Œæ·±åœ³</p>

<p>ç®€å†ï¼š<a href="https://guangchuangyu.github.io/resume/YGC.pdf">https://guangchuangyu.github.io/resume/YGC.pdf</a></p>

<p>google scholaræŒ‡æ ‡ï¼š</p>

<ul>
<li>å¼•ç”¨ï¼š1330</li>
<li>h-index: 14</li>
<li>i10-index: 17</li>
</ul>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://guangchuangyu.github.io/cn/2018/02/wechat-addition/">
                <h3 class="media-heading">ç½‘ç˜¾ä½ å¥½ï¼Œæˆ‘æ˜¯80åï¼Œè¯·å†²æˆ‘æ¥</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p><img src="https://guangchuangyu.github.io/blog_images/2018/wechat_additive/images.png" alt="" /></p>

<p>ç«¥é‹ä»¬ï¼Œæ•²é»‘æ¿åˆ’é‡ç‚¹å•¦ï¼Œä¸Šå›¾è¯·å¯¹å·å…¥åï¼Œæ²¡é”™ï¼Œè¯´çš„å°±æ˜¯ä½ ï¼è¿™ä¸ªç½‘ç˜¾çš„éªšå¹´ï¼</p>

<p>Scientific Reportæœ€è¿‘å‘è¡¨äº†<a href="https://www.nature.com/articles/s41598-018-19904-y">ä¸€ç¯‡ç¥æ–‡</a>:</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://guangchuangyu.github.io/cn/2018/01/scihub-bookmark/">
                <h3 class="media-heading">å…³äºscihubï¼Œä¸€æ–‡å°±å¤Ÿäº†</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>Sci-Hubæ˜¯å±…å®¶æ—…è¡Œå­¦æœ¯å¿…å¤‡çš„ç¥å™¨ï¼Œæ¯•ç«Ÿç©·äººæ¯”è¾ƒå¤šï¼Œè€Œå‡ºç‰ˆç¤¾å¤ªé»‘å¿ƒã€‚ä½†Sci-Hubæœ‰ä¸€ä¸ªé—®é¢˜æ˜¯é•œåƒç«™ç»å¸¸æŒ‚ï¼Œæˆ‘ä¹‹å‰ç»™å‡ºäº†ä¸€ä¸ªæ¯”è¾ƒå¯èƒ½ä¸ä¼šæŒ‚çš„é“¾æ¥ï¼Œã€Š<a href="https://mp.weixin.qq.com/s/5JGC1bcVZOmdaPxo_uXYYw">å†ä¸ç”¨æ‹…å¿ƒæ‰“ä¸å¼€sci-hubäº†</a>ã€‹ï¼Œé‚£å°±æ˜¯æ´‹è‘±é“¾æ¥ã€‚å½“ç„¶æ´‹è‘±é“¾æ¥æ¯”è¾ƒæ…¢ï¼Œæˆ‘ä»¬è¿˜æ˜¯æ›´å€¾å‘äºä½¿ç”¨æ™®é€šçš„é“¾æ¥ï¼Œæ‰€ä»¥æˆ‘åˆæ”¶é›†äº†ã€Š<a href="https://mp.weixin.qq.com/s/RK1CYEboiEDzapdHsiwEGg">2018æœ€æ–°å¯ç”¨çš„sci-hubé•œåƒ+æ¡Œé¢ç‰ˆç¨‹åº</a>ã€‹ï¼Œå½“ç„¶è¿™äº›é“¾æ¥éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæœ‰äº›å¯èƒ½ä¹Ÿä¼šæŒ‚ã€‚</p>

<p>ä»»ä½•æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½åº”è¯¥æœ‰å¤šæ‰‹å‡†å¤‡ï¼Œæ‰€ä»¥æˆ‘ä¸€ç›´éƒ½æœ‰å¤‡é€‰æ–¹æ¡ˆï¼Œè™½ç„¶ä¸å¦‚sci-hubï¼Œè™½ç„¶ç°åœ¨sci-hubè¿˜èƒ½ç”¨çš„æƒ…å†µä¸‹é¦–å…ˆè¿˜æ˜¯sci-hubï¼Œä½†æ”¶è—ä¸€ä¸¤ä¸ªå¤‡é€‰å·¥å…·æ˜¯å¿…è¦çš„ï¼Œå®ƒè®©ä½ åœ¨é¢å‰å˜åŒ–çš„æ—¶å€™å¯ä»¥æ·¡å®šã€‚ã€Š<a href="http://mp.weixin.qq.com/s/aaIby87LSQgxpvCAECFxkw">sci-hubå¦‚æœæŒ‚äº†ï¼Œä½ è¿˜æœ‰ç¥å™¨ä¸‹æ–‡çŒ®å—ï¼Ÿ</a>ã€‹è¿™ç¯‡æ–‡ç« ä»‹ç»çš„ç¥å™¨å³ä½¿ä½ ç°åœ¨ä¸ç”¨ï¼Œä¹Ÿè¯¥æ”¶è—ç€ã€‚</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://guangchuangyu.github.io/cn/2018/01/frog-tree/">
                <h3 class="media-heading">Yå”ä¸æƒ³å…»è›™ï¼Œåªæƒ³å…»ä½ ï¼</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>è¯è¯´æœ‰ä¸€åªè›™ï¼Œå®ƒæ—…æ¸¸å»äº†å¹¿ä¸œï¼Œæ¸¸æˆç»“æŸã€‚</p>

<p>è¿™ç¯‡æ–‡ç« ï¼Œåªæƒ³è·Ÿå¤§å®¶è®²ä¸€è®²ggtreeï¼Œä½ å€¼å¾—æ‹¥æœ‰çš„å¼ºå¤§çš„è¿›åŒ–æ ‘å¯è§†åŒ–è½¯ä»¶ï¼Œé«˜é¢œå€¼çš„å›¾ï¼Œå°±åœ¨äºæŒ‡å°–å‡ è¡Œä»£ç ä¸­ã€‚</p>

<p>æœ€è¿‘å…»è›™å¾ˆæµè¡Œï¼Œå°±ä»¥è›™ä¸ºä¾‹ï¼Œè¯»æ ‘ç”¨<code>read.tree</code>ï¼Œç„¶åä¸€ä¸ª<code>ggtree</code>çš„æŒ‡ä»¤ï¼Œæ ‘å°±ç”»å‡ºæ¥äº†ã€‚è€Œä½ è§è¯ç¥å¥‡çš„æ—¶åˆ»å°±åœ¨äºä½ ä¸æ–­<code>+geom_xxx</code>åŠ å›¾å±‚ï¼Œè¿™é‡Œæˆ‘ç”¨äº†<code>geom_tiplab</code>æ¥åŠ taxa labelï¼Œè€Œè¿™ä¸ªå¯ä¸ä»…ä»…æ˜¯åå­—å“¦ï¼Œç”¨emojiä¹Ÿå¯ä»¥ï¼Œè¿™é‡Œæˆ‘ç”¨çš„ç«Ÿç„¶æ˜¯<strong>å›¾ç‰‡</strong>ï¼Œä½ æ²¡çœ‹é”™ï¼Œä¹Ÿå¯ä»¥ã€‚åªè¦æŒ‡å®š<code>geom=&quot;image&quot;</code>å°±OKï¼Œé‚£ä¸ªæœ¬æ¥è¦æ‰“çš„æ–‡æœ¬ï¼Œå°±ä¼šè¢«å½“æˆæ˜¯æ–‡ä»¶åï¼Œç„¶åè¯»å›¾ç‰‡ç”»å›¾ç‰‡ï¼Œä¸€åˆ‡å°½åœ¨æˆ‘çš„ggimageåŒ…ã€‚</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://guangchuangyu.github.io/cn/2018/01/scihub-osx/">
                <h3 class="media-heading">è‹¹æœç‰ˆSciHubæ¡Œé¢è½¯ä»¶</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>ä¸ºäº†æ–¹ä¾¿è‹¹æœç”¨æˆ·ä¹Ÿèƒ½ç”¨æ¡Œé¢è½¯ä»¶ä¸‹æ–‡çŒ®ï¼Œæˆ‘æŠŠSciHubæ¡Œé¢ç‰ˆæ‰“åŒ…æˆå¯ä»¥è¿è¡Œåœ¨è‹¹æœä¸Šçš„Appã€‚</p>

<p>SciHubæ¡Œé¢ç‰ˆæ˜¯Windowsç¨‹åºï¼Œä¸»é¡µä¸º<a href="https://zhuanlan.zhihu.com/p/31809890">https://zhuanlan.zhihu.com/p/31809890</a>ã€‚</p>

<p>é¦–å…ˆè¿™æ˜¯åˆ©ç”¨wineæŠ€æœ¯å®ç°çš„ï¼Œåœ¨è‹¹æœä¸Šä½ éœ€è¦å®‰è£…<strong>XQuartz</strong>: <a href="https://www.xquartz.org/">https://www.xquartz.org/</a>ã€‚</p>

<p>å®‰è£…å¾ˆå®¹æ˜“ï¼Œæˆ‘å·²ç»æ‰“åŒ…äº†dmgæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æœ‰44Mï¼Œè¿˜æŒºå¤§çš„ï¼Œæ²¡æ³•ï¼Œè¦æ‰“åŒ…ä¸€ä¸ªwindowsçš„è¿è¡Œç¯å¢ƒå˜›ã€‚</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://guangchuangyu.github.io/cn/2018/01/pubmed-still-update/">
                <h3 class="media-heading">PubMedæ²¡æœ‰åœæ›´</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>åœ¨ä¸€ç¯‡æ–‡ç« ã€Š<a href="http://mp.weixin.qq.com/s/VfLmahpFqdmXfwId-d_BWQ">pubmedåœæ›´ï¼Ÿå’Œä½ æ²¡åŠæ¯›é’±å…³ç³»ï¼ä½ ä»¬æ˜¯æƒ³æ”¾å‡æƒ³ç–¯äº†å§ï¼Ÿ</a>ã€‹æˆ‘å°±è§£è¯»äº†æ‰€è°“çš„åœæ›´ï¼Œæ ¹æœ¬ä¸ç¢äº‹ï¼Œç„¶ååˆåˆ†æäº†äº‹æƒ…åªæ˜¯è¢«è‡ªåª’ä½“æ‹¿æ¥åšçœ¼çƒè€Œå·²ï¼ŒçœŸæ­£å—å½±å“çš„NCBIæ•°æ®åº“æ²¡äººè¯´ï¼Œè€ŒPubMedåœæ›´çš„å¯èƒ½æ€§ä¸å¤§ã€‚</p>

<blockquote>
<p>Because of a lapse in government funding, the information on this website may not be up to date, transactions submitted via the website may not be processed, and the agency may not be able to respond to inquiries until appropriations are enacted.</p>
</blockquote>

<p>è¿™ä¸ªæ¶ˆæ¯ï¼Œå¾ˆå¤šäººä¸Špubmedçœ‹åˆ°ï¼Œå°±æ‰“é¸¡è¡€äº†ï¼Œå“Ÿå“Ÿå“Ÿï¼Œå·å¤–å·å¤–å¤§æ–°é—»ï¼ŒçœŸçš„æœ‰è¿‡è¿‡è„‘å­å—ï¼Ÿ</p>

<blockquote>
<p>transactions submitted via the website may not be processed</p>
</blockquote>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         198 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://guangchuangyu.github.io/cn/images/cover.jpg');"></div>
  


    
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.js"></script>


<script src="https://guangchuangyu.github.io/cn/js/script-wl33z0n6ocaypepiqrazthtivfrliqijej4rq8ek8gvrv1awftmgjuv8k4zc.min.js"></script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight').each(function(i, block) {
    var code = "";
    hljs.highlightAuto(block.innerText).value.split(/\r\n|\r|\n/).forEach(function(line) {
      code += "<span class=\"line\">" + line + "</span><br>";
    });
    if (code.length > 0) {
      block.innerHTML = code;  
    }
  });
  $('pre > code').each(function(i, block) {
    $(this).addClass('codeblock');
    hljs.highlightBlock(block);
  });
});
</script>

  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/guangchuangyu.github.io\/cn\/2014\/05\/use-ggplot2\/';
          
            this.page.identifier = '\/2014\/05\/use-ggplot2\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'gcyu';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  





    
  </body>
</html>

